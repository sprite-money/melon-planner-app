<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üçà ‡πÅ‡∏≠‡∏õ‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏•‡∏π‡∏Å‡πÄ‡∏°‡∏•‡πà‡∏≠‡∏ô</title>
    
    <!-- React ‡πÅ‡∏•‡∏∞ Library -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#10b981">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üçà</text></svg>">
    
    <style>
        @media (display-mode: standalone) {
            body { 
                margin-top: 0;
                user-select: none;
                -webkit-user-select: none;
            }
        }
        
        .loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #10b981, #3b82f6);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            z-index: 9999;
        }
        
        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 5px solid rgba(255,255,255,0.3);
            border-top: 5px solid white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading" class="loading">
        <div class="text-6xl mb-4">üçà</div>
        <h1 class="text-2xl font-bold mb-4">‡πÅ‡∏≠‡∏õ‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏•‡∏π‡∏Å‡πÄ‡∏°‡∏•‡πà‡∏≠‡∏ô</h1>
        <div class="loading-spinner mb-4"></div>
        <p>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</p>
    </div>
    
    <!-- App Container -->
    <div id="root"></div>
    
    <script type="text/babel">
        // üëá ‡∏ß‡∏≤‡∏á‡πÇ‡∏Ñ‡πâ‡∏î React ‡∏ó‡∏µ‡πà‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡∏û‡∏£‡∏µ‡∏ß‡∏¥‡∏ß‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ
        
        // **************************************************************
 const { useState, useEffect } = React;    
const { 
    Calendar, Plus, Edit3, Trash2, Droplets, Sun, Scissors, 
    Sprout, CheckCircle, Home, Settings, Clock, BarChart3, 
    Bug, Eye, Package, Leaf, Target, Download, Upload, 
    RotateCcw, Bell, BellRing, X, Menu, Beaker, Zap 
} = lucide;

const MelonPlannerApp = () => {
  const [activeTab, setActiveTab] = useState('dashboard');
  const [activities, setActivities] = useState([]);
  const [showAddForm, setShowAddForm] = useState(false);
  const [editingActivity, setEditingActivity] = useState(null);
  const [selectedDate, setSelectedDate] = useState(new Date().toISOString().split('T')[0]);
  const [showNotifications, setShowNotifications] = useState(false);
  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);
  const [settings, setSettings] = useState({
    plantingDate: new Date().toISOString().split('T')[0],
    greenhouseSize: '8x10',
    plantCount: 80,
    bioScheduleStart: new Date().toISOString().split('T')[0],
    nutrientScheduleStart: new Date().toISOString().split('T')[0],
    notifications: true
  });
  const [newActivity, setNewActivity] = useState({
    date: new Date().toISOString().split('T')[0],
    type: 'watering',
    title: '',
    description: '',
    completed: false
  });

  // Load data from localStorage
  useEffect(() => {
    const savedActivities = localStorage.getItem('melon-activities');
    const savedSettings = localStorage.getItem('melon-settings');
    
    if (savedActivities) {
      setActivities(JSON.parse(savedActivities));
    }
    if (savedSettings) {
      setSettings(JSON.parse(savedSettings));
    }
  }, []);

  // Save data to localStorage
  useEffect(() => {
    localStorage.setItem('melon-activities', JSON.stringify(activities));
  }, [activities]);

  useEffect(() => {
    localStorage.setItem('melon-settings', JSON.stringify(settings));
  }, [settings]);

  const activityTypes = {
    watering: { icon: Droplets, label: '‡∏£‡∏î‡∏ô‡πâ‡∏≥/‡πÉ‡∏´‡πâ‡∏õ‡∏∏‡πã‡∏¢', color: 'bg-blue-500', gradient: 'from-blue-400 to-blue-600' },
    pest: { icon: Bug, label: '‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÅ‡∏°‡∏•‡∏á', color: 'bg-red-500', gradient: 'from-red-400 to-red-600' },
    pruning: { icon: Scissors, label: '‡πÅ‡∏ï‡πà‡∏á‡∏Å‡∏¥‡πà‡∏á', color: 'bg-orange-500', gradient: 'from-orange-400 to-orange-600' },
    inspection: { icon: Eye, label: '‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö', color: 'bg-purple-500', gradient: 'from-purple-400 to-purple-600' },
    harvest: { icon: Package, label: '‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß', color: 'bg-green-600', gradient: 'from-green-500 to-green-700' },
    nutrient: { icon: Beaker, label: '‡∏â‡∏µ‡∏î‡∏ò‡∏≤‡∏ï‡∏∏‡∏≠‡∏≤‡∏´‡∏≤‡∏£', color: 'bg-teal-500', gradient: 'from-teal-400 to-teal-600' },
    general: { icon: Leaf, label: '‡∏î‡∏π‡πÅ‡∏•‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ', color: 'bg-gray-500', gradient: 'from-gray-400 to-gray-600' }
  };

  const growthStages = [
    { stage: '‡∏á‡∏≠‡∏Å', days: 7, color: 'bg-yellow-400', icon: 'üå±' },
    { stage: '‡∏ï‡πâ‡∏ô‡∏≠‡πà‡∏≠‡∏ô', days: 21, color: 'bg-green-400', icon: 'üåø' },
    { stage: '‡∏≠‡∏≠‡∏Å‡∏î‡∏≠‡∏Å', days: 42, color: 'bg-pink-400', icon: 'üå∏' },
    { stage: '‡∏ï‡∏¥‡∏î‡∏ú‡∏•', days: 56, color: 'bg-orange-400', icon: 'üü¢' },
    { stage: '‡∏ú‡∏•‡πÇ‡∏ï', days: 70, color: 'bg-blue-400', icon: 'ü•í' },
    { stage: '‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏Å‡πá‡∏ö', days: 85, color: 'bg-purple-400', icon: 'üçà' }
  ];

  const bioProducts = [
    { name: '‡πÑ‡∏ï‡∏£‡πÇ‡∏Ñ‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏°‡∏≤', week: 1, color: 'bg-green-500', description: '‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÇ‡∏£‡∏Ñ‡∏£‡∏≤‡∏Å' },
    { name: '‡πÄ‡∏°‡∏ó‡∏≤‡πÑ‡∏£‡πÄ‡∏ã‡∏µ‡∏¢‡∏°', week: 2, color: 'bg-blue-500', description: '‡∏Å‡∏≥‡∏à‡∏±‡∏î‡πÅ‡∏°‡∏•‡∏á‡∏®‡∏±‡∏ï‡∏£‡∏π‡∏û‡∏∑‡∏ä' },
    { name: '‡∏ö‡∏¥‡∏ß‡πÄ‡∏ß‡∏≠‡∏£‡πå‡πÄ‡∏£‡∏µ‡∏¢', week: 3, color: 'bg-purple-500', description: '‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÅ‡∏°‡∏•‡∏á‡∏î‡∏π‡∏î‡∏Å‡∏¥‡∏ô' },
    { name: '‡∏ö‡∏≤‡∏ã‡∏¥‡∏•‡∏•‡∏±‡∏™', week: 4, color: 'bg-orange-500', description: '‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏†‡∏π‡∏°‡∏¥‡∏ï‡πâ‡∏≤‡∏ô‡∏ó‡∏≤‡∏ô‡πÇ‡∏£‡∏Ñ' }
  ];

  const nutrientSchedule = [
    { week: 1, name: '‡πÑ‡∏ô‡πÇ‡∏ï‡∏£‡πÄ‡∏à‡∏ô‡∏™‡∏π‡∏á', npk: '20-10-10', description: '‡∏ä‡πà‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏à‡∏£‡∏¥‡∏ç‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï‡∏Ç‡∏≠‡∏á‡πÉ‡∏ö', color: 'bg-green-500' },
    { week: 2, name: '‡∏ü‡∏≠‡∏™‡∏ü‡∏≠‡∏£‡∏±‡∏™‡∏™‡∏π‡∏á', npk: '10-20-10', description: '‡∏™‡πà‡∏á‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏Å‡∏≤‡∏£‡πÄ‡∏à‡∏£‡∏¥‡∏ç‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏Å', color: 'bg-blue-500' },
    { week: 3, name: '‡πÇ‡∏õ‡πÅ‡∏ï‡∏™‡πÄ‡∏ã‡∏µ‡∏¢‡∏°‡∏™‡∏π‡∏á', npk: '10-10-20', description: '‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏ú‡∏•‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏ô‡∏ó‡∏≤‡∏ô', color: 'bg-purple-500' },
    { week: 4, name: '‡∏™‡∏°‡∏î‡∏∏‡∏• + ‡πÅ‡∏Ñ‡∏•‡πÄ‡∏ã‡∏µ‡∏¢‡∏°', npk: '15-15-15+Ca', description: '‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤‡πÅ‡∏•‡∏∞‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÄ‡∏ô‡πà‡∏≤‡∏õ‡∏•‡∏≤‡∏¢‡∏ú‡∏•', color: 'bg-orange-500' }
  ];

  const getCurrentGrowthStage = () => {
    const plantingDate = new Date(settings.plantingDate);
    const today = new Date();
    const daysFromPlanting = Math.floor((today - plantingDate) / (1000 * 60 * 60 * 24));
    
    let currentStage = growthStages[growthStages.length - 1];
    for (let stage of growthStages) {
      if (daysFromPlanting <= stage.days) {
        currentStage = stage;
        break;
      }
    }
    
    return { ...currentStage, daysFromPlanting };
  };

  const getCurrentBioWeek = () => {
    const startDate = new Date(settings.bioScheduleStart);
    const today = new Date();
    const daysDiff = Math.floor((today - startDate) / (1000 * 60 * 60 * 24));
    const weekNumber = Math.floor(daysDiff / 7) % 4 + 1;
    return weekNumber;
  };

  const getCurrentNutrientWeek = () => {
    const startDate = new Date(settings.nutrientScheduleStart);
    const today = new Date();
    const daysDiff = Math.floor((today - startDate) / (1000 * 60 * 60 * 24));
    const weekNumber = Math.floor(daysDiff / 7) % 4 + 1;
    return weekNumber;
  };

  const getNotifications = () => {
    if (!settings.notifications) return [];
    
    const today = new Date();
    const notifications = [];
    
    // ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏Ñ‡πâ‡∏≤‡∏á‡∏≠‡∏¢‡∏π‡πà
    const overdueActivities = activities.filter(activity => 
      !activity.completed && new Date(activity.date) < today
    );
    
    overdueActivities.forEach(activity => {
      notifications.push({
        id: `overdue-${activity.id}`,
        type: 'overdue',
        title: '‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏Ñ‡πâ‡∏≤‡∏á‡∏≠‡∏¢‡∏π‡πà',
        message: `${activity.title} - ${formatThaiDate(activity.date)}`,
        priority: 'high'
      });
    });

    // ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ
    const todayActivities = activities.filter(activity => 
      !activity.completed && activity.date === today.toISOString().split('T')[0]
    );
    
    todayActivities.forEach(activity => {
      notifications.push({
        id: `today-${activity.id}`,
        type: 'today',
        title: '‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ',
        message: activity.title,
        priority: 'medium'
      });
    });

    // ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏û‡∏£‡∏∏‡πà‡∏á‡∏ô‡∏µ‡πâ
    const tomorrow = new Date(today);
    tomorrow.setDate(today.getDate() + 1);
    const tomorrowActivities = activities.filter(activity => 
      !activity.completed && activity.date === tomorrow.toISOString().split('T')[0]
    );
    
    tomorrowActivities.forEach(activity => {
      notifications.push({
        id: `tomorrow-${activity.id}`,
        type: 'upcoming',
        title: '‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏û‡∏£‡∏∏‡πà‡∏á‡∏ô‡∏µ‡πâ',
        message: activity.title,
        priority: 'low'
      });
    });

    return notifications.slice(0, 10);
  };

  const addActivity = () => {
    if (newActivity.title.trim()) {
      const activity = {
        id: Date.now(),
        ...newActivity,
        createdAt: new Date().toISOString()
      };
      setActivities([...activities, activity]);
      setNewActivity({
        date: selectedDate,
        type: 'watering',
        title: '',
        description: '',
        completed: false
      });
      setShowAddForm(false);
    }
  };

  const updateActivity = () => {
    if (editingActivity.title.trim()) {
      setActivities(activities.map(activity => 
        activity.id === editingActivity.id ? editingActivity : activity
      ));
      setEditingActivity(null);
    }
  };

  const deleteActivity = (id) => {
    setActivities(activities.filter(activity => activity.id !== id));
  };

  const toggleComplete = (id) => {
    setActivities(activities.map(activity => 
      activity.id === id ? { ...activity, completed: !activity.completed } : activity
    ));
  };

  const getActivitiesForDate = (date) => {
    return activities.filter(activity => activity.date === date);
  };

  const getTodayActivities = () => {
    return getActivitiesForDate(new Date().toISOString().split('T')[0]);
  };

  const getUpcomingActivities = () => {
    const today = new Date().toISOString().split('T')[0];
    return activities
      .filter(activity => activity.date > today && !activity.completed)
      .sort((a, b) => new Date(a.date) - new Date(b.date))
      .slice(0, 5);
  };

  const formatThaiDate = (dateString) => {
    const date = new Date(dateString);
    return date.toLocaleDateString('th-TH', {
      year: 'numeric',
      month: 'long',
      day: 'numeric'
    });
  };

  const addBioActivity = (bioProduct) => {
    const today = new Date().toISOString().split('T')[0];
    const activity = {
      id: Date.now(),
      date: today,
      type: 'pest',
      title: `‡∏â‡∏µ‡∏î‡∏ä‡∏µ‡∏ß‡∏†‡∏±‡∏ì‡∏ë‡πå ${bioProduct.name}`,
      description: `${bioProduct.description} - ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏â‡∏µ‡∏î‡∏ä‡∏µ‡∏ß‡∏†‡∏±‡∏ì‡∏ë‡πå ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏ó‡∏µ‡πà ${bioProduct.week}`,
      completed: false,
      createdAt: new Date().toISOString()
    };
    setActivities([...activities, activity]);
  };

  const addNutrientActivity = (nutrient) => {
    const today = new Date().toISOString().split('T')[0];
    const activity = {
      id: Date.now(),
      date: today,
      type: 'nutrient',
      title: `‡∏â‡∏µ‡∏î‡∏ò‡∏≤‡∏ï‡∏∏‡∏≠‡∏≤‡∏´‡∏≤‡∏£ ${nutrient.name}`,
      description: `${nutrient.description} (${nutrient.npk}) - ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏â‡∏µ‡∏î‡∏ò‡∏≤‡∏ï‡∏∏‡∏≠‡∏≤‡∏´‡∏≤‡∏£ ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏ó‡∏µ‡πà ${nutrient.week}`,
      completed: false,
      createdAt: new Date().toISOString()
    };
    setActivities([...activities, activity]);
  };

  const exportData = () => {
    const data = {
      activities,
      settings,
      exportDate: new Date().toISOString()
    };
    const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `melon-planner-${new Date().toISOString().split('T')[0]}.json`;
    a.click();
    URL.revokeObjectURL(url);
  };

  const importData = (event) => {
    const file = event.target.files[0];
    if (file) {
      const reader = new FileReader();
      reader.onload = (e) => {
        try {
          const data = JSON.parse(e.target.result);
          if (data.activities && data.settings) {
            setActivities(data.activities);
            setSettings(data.settings);
            alert('‡∏ô‡∏≥‡πÄ‡∏Ç‡πâ‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!');
          }
        } catch (error) {
          alert('‡πÑ‡∏ü‡∏•‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á');
        }
      };
      reader.readAsText(file);
    }
  };

  const clearAllData = () => {
    if (confirm('‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î?')) {
      setActivities([]);
      setSettings({
        plantingDate: new Date().toISOString().split('T')[0],
        greenhouseSize: '8x10',
        plantCount: 80,
        bioScheduleStart: new Date().toISOString().split('T')[0],
        nutrientScheduleStart: new Date().toISOString().split('T')[0],
        notifications: true
      });
      localStorage.removeItem('melon-activities');
      localStorage.removeItem('melon-settings');
    }
  };

  const NotificationPanel = () => {
    const notifications = getNotifications();
    
    return (
      <div className={`fixed top-0 right-0 h-full w-80 bg-white shadow-2xl transform transition-transform duration-300 z-50 ${showNotifications ? 'translate-x-0' : 'translate-x-full'}`}>
        <div className="p-4 border-b bg-gradient-to-r from-orange-500 to-red-500 text-white">
          <div className="flex items-center justify-between">
            <h3 className="text-lg font-semibold flex items-center space-x-2">
              <Bell size={20} />
              <span>‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</span>
            </h3>
            <button
              onClick={() => setShowNotifications(false)}
              className="p-1 hover:bg-white/20 rounded-full transition-colors"
            >
              <X size={20} />
            </button>
          </div>
        </div>
        
        <div className="p-4 space-y-3 overflow-y-auto h-full pb-20">
          {notifications.length === 0 ? (
            <div className="text-center py-8 text-gray-500">
              <Bell size={32} className="mx-auto mb-2 text-gray-300" />
              <p>‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</p>
            </div>
          ) : (
            notifications.map(notification => (
              <div key={notification.id} className={`p-3 rounded-lg border-l-4 ${
                notification.priority === 'high' ? 'border-red-500 bg-red-50' :
                notification.priority === 'medium' ? 'border-orange-500 bg-orange-50' :
                'border-blue-500 bg-blue-50'
              }`}>
                <h4 className="font-medium text-gray-800">{notification.title}</h4>
                <p className="text-sm text-gray-600 mt-1">{notification.message}</p>
              </div>
            ))
          )}
        </div>
      </div>
    );
  };

  const ActivityForm = ({ activity, onSave, onCancel, isEditing = false }) => (
    <div className="bg-white rounded-2xl shadow-2xl border border-gray-200 overflow-hidden">
      <div className="bg-gradient-to-r from-green-500 to-teal-500 p-6 text-white">
        <h3 className="text-xl font-bold">
          {isEditing ? '‚úèÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°' : '‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÉ‡∏´‡∏°‡πà'}
        </h3>
      </div>
      
      <div className="p-6 space-y-6">
        <div>
          <label className="block text-sm font-semibold text-gray-700 mb-3">üìÖ ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</label>
          <input
            type="date"
            value={activity.date}
            onChange={(e) => isEditing 
              ? setEditingActivity({...activity, date: e.target.value})
              : setNewActivity({...activity, date: e.target.value})
            }
            className="w-full p-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all"
          />
        </div>

        <div>
          <label className="block text-sm font-semibold text-gray-700 mb-3">üè∑Ô∏è ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</label>
          <select
            value={activity.type}
            onChange={(e) => isEditing 
              ? setEditingActivity({...activity, type: e.target.value})
              : setNewActivity({...activity, type: e.target.value})
            }
            className="w-full p-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all"
          >
            {Object.entries(activityTypes).map(([key, type]) => (
              <option key={key} value={key}>{type.label}</option>
            ))}
          </select>
        </div>

        <div>
          <label className="block text-sm font-semibold text-gray-700 mb-3">üìù ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</label>
          <input
            type="text"
            value={activity.title}
            onChange={(e) => isEditing 
              ? setEditingActivity({...activity, title: e.target.value})
              : setNewActivity({...activity, title: e.target.value})
            }
            placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏£‡∏î‡∏ô‡πâ‡∏≥‡πÄ‡∏ä‡πâ‡∏≤, ‡πÉ‡∏™‡πà‡∏õ‡∏∏‡πã‡∏¢‡∏≠‡∏¥‡∏ô‡∏ó‡∏£‡∏µ‡∏¢‡πå"
            className="w-full p-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all"
          />
        </div>

        <div>
          <label className="block text-sm font-semibold text-gray-700 mb-3">üìÑ ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</label>
          <textarea
            value={activity.description}
            onChange={(e) => isEditing 
              ? setEditingActivity({...activity, description: e.target.value})
              : setNewActivity({...activity, description: e.target.value})
            }
            placeholder="‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°..."
            rows={4}
            className="w-full p-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all resize-none"
          />
        </div>

        <div className="flex gap-3 pt-4">
          <button
            onClick={onSave}
            className="flex-1 bg-gradient-to-r from-green-500 to-teal-500 text-white py-3 px-6 rounded-xl hover:from-green-600 hover:to-teal-600 transition-all transform hover:scale-105 font-semibold shadow-lg"
          >
            {isEditing ? 'üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç' : '‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°'}
          </button>
          <button
            onClick={onCancel}
            className="flex-1 bg-gradient-to-r from-gray-400 to-gray-500 text-white py-3 px-6 rounded-xl hover:from-gray-500 hover:to-gray-600 transition-all transform hover:scale-105 font-semibold shadow-lg"
          >
            ‚ùå ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å
          </button>
        </div>
      </div>
    </div>
  );

  const ActivityCard = ({ activity }) => {
    const ActivityIcon = activityTypes[activity.type].icon;
    
    return (
      <div className={`p-4 rounded-2xl border-l-4 ${activityTypes[activity.type].color.replace('bg-', 'border-')} ${activity.completed ? 'bg-gray-50 opacity-75' : 'bg-white'} shadow-lg hover:shadow-xl transition-all transform hover:scale-105`}>
        <div className="flex items-start justify-between">
          <div className="flex items-start space-x-3 flex-1">
            <div className={`p-3 rounded-full bg-gradient-to-r ${activityTypes[activity.type].gradient} text-white shadow-lg`}>
              <ActivityIcon size={18} />
            </div>
            <div className="flex-1">
              <div className="flex items-center space-x-2 mb-2">
                <h4 className={`font-bold text-lg ${activity.completed ? 'line-through text-gray-500' : 'text-gray-800'}`}>
                  {activity.title}
                </h4>
                <span className={`px-3 py-1 rounded-full text-xs font-semibold bg-gradient-to-r ${activityTypes[activity.type].gradient} text-white shadow-sm`}>
                  {activityTypes[activity.type].label}
                </span>
              </div>
              {activity.description && (
                <p className={`text-sm ${activity.completed ? 'text-gray-400' : 'text-gray-600'}`}>
                  {activity.description}
                </p>
              )}
            </div>
          </div>
          <div className="flex items-center space-x-2">
            <button
              onClick={() => toggleComplete(activity.id)}
              className={`p-2 rounded-full transition-all transform hover:scale-110 ${activity.completed ? 'text-green-600 bg-green-100' : 'text-gray-400 hover:text-green-600 hover:bg-green-100'}`}
            >
              <CheckCircle size={22} />
            </button>
            <button
              onClick={() => setEditingActivity(activity)}
              className="p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-100 rounded-full transition-all transform hover:scale-110"
            >
              <Edit3 size={18} />
            </button>
            <button
              onClick={() => deleteActivity(activity.id)}
              className="p-2 text-gray-400 hover:text-red-600 hover:bg-red-100 rounded-full transition-all transform hover:scale-110"
            >
              <Trash2 size={18} />
            </button>
          </div>
        </div>
      </div>
    );
  };

  const MobileMenu = () => (
    <div className={`fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden ${mobileMenuOpen ? 'block' : 'hidden'}`}>
      <div className={`fixed left-0 top-0 h-full w-80 bg-white transform transition-transform duration-300 ${mobileMenuOpen ? 'translate-x-0' : '-translate-x-full'}`}>
        <div className="p-4 border-b bg-gradient-to-r from-green-500 to-teal-500 text-white">
          <div className="flex items-center justify-between">
            <h3 className="text-lg font-semibold">‡πÄ‡∏°‡∏ô‡∏π</h3>
            <button
              onClick={() => setMobileMenuOpen(false)}
              className="p-1 hover:bg-white/20 rounded-full transition-colors"
            >
              <X size={20} />
            </button>
          </div>
        </div>
        
        <div className="p-4 space-y-2">
          {[
            { id: 'dashboard', label: '‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å', icon: Home },
            { id: 'activities', label: '‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°', icon: Calendar },
            { id: 'bio-schedule', label: '‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ä‡∏µ‡∏ß‡∏†‡∏±‡∏ì‡∏ë‡πå', icon: BarChart3 },
            { id: 'nutrient-schedule', label: '‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ò‡∏≤‡∏ï‡∏∏‡∏≠‡∏≤‡∏´‡∏≤‡∏£', icon: Beaker },
            { id: 'settings', label: '‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤', icon: Settings }
          ].map(tab => (
            <button
              key={tab.id}
              onClick={() => {
                setActiveTab(tab.id);
                setMobileMenuOpen(false);
              }}
              className={`w-full flex items-center space-x-3 px-4 py-3 rounded-xl font-medium transition-all ${
                activeTab === tab.id
                  ? 'text-green-600 bg-green-50 border-2 border-green-200'
                  : 'text-gray-600 hover:text-green-600 hover:bg-green-50'
              }`}
            >
              <tab.icon size={20} />
              <span>{tab.label}</span>
            </button>
          ))}
        </div>
      </div>
    </div>
  );

  const renderDashboard = () => {
    const currentStage = getCurrentGrowthStage();
    const todayActivities = getTodayActivities();
    const upcomingActivities = getUpcomingActivities();
    const currentBioWeek = getCurrentBioWeek();
    const currentNutrientWeek = getCurrentNutrientWeek();

    return (
      <div className="space-y-6">
        {/* ‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏•‡∏±‡∏Å */}
        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          <div className="bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-2xl shadow-lg border border-blue-200">
            <div className="flex items-center space-x-3 mb-4">
              <div className="p-3 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full text-white">
                <Home size={24} />
              </div>
              <h3 className="text-xl font-bold text-blue-800">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏∑‡∏≠‡∏ô</h3>
            </div>
            <div className="space-y-3">
              <div className="flex justify-between items-center p-2 bg-white/50 rounded-lg">
                <span className="text-blue-700 font-medium">üìè ‡∏Ç‡∏ô‡∏≤‡∏î:</span>
                <span className="font-bold text-blue-900">{settings.greenhouseSize} ‡πÄ‡∏°‡∏ï‡∏£</span>
              </div>
              <div className="flex justify-between items-center p-2 bg-white/50 rounded-lg">
                <span className="text-blue-700 font-medium">üå± ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ï‡πâ‡∏ô:</span>
                <span className="font-bold text-blue-900">{settings.plantCount} ‡∏ï‡πâ‡∏ô</span>
              </div>
              <div className="flex justify-between items-center p-2 bg-white/50 rounded-lg">
                <span className="text-blue-700 font-medium">üìÖ ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏õ‡∏•‡∏π‡∏Å:</span>
                <span className="font-bold text-blue-900 text-sm">{formatThaiDate(settings.plantingDate)}</span>
              </div>
            </div>
          </div>

          <div className="bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-2xl shadow-lg border border-green-200">
            <div className="flex items-center space-x-3 mb-4">
              <div className="p-3 bg-gradient-to-r from-green-500 to-green-600 rounded-full text-white">
                <Sprout size={24} />
              </div>
              <h3 className="text-xl font-bold text-green-800">‡∏£‡∏∞‡∏¢‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏à‡∏£‡∏¥‡∏ç‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï</h3>
            </div>
            <div className="text-center">
              <div className="text-4xl mb-2">{currentStage.icon}</div>
              <div className={`inline-block px-4 py-2 rounded-full text-white font-bold text-lg ${currentStage.color}`}>
                {currentStage.stage}
              </div>
              <p className="text-sm text-green-700 mt-3 font-medium">
                ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà {currentStage.daysFromPlanting} ‡∏´‡∏•‡∏±‡∏á‡∏õ‡∏•‡∏π‡∏Å
              </p>
            </div>
          </div>

          <div className="bg-gradient-to-br from-purple-50 to-purple-100 p-6 rounded-2xl shadow-lg border border-purple-200">
            <div className="flex items-center space-x-3 mb-4">
              <div className="p-3 bg-gradient-to-r from-purple-500 to-purple-600 rounded-full text-white">
                <BarChart3 size={24} />
              </div>
              <h3 className="text-xl font-bold text-purple-800">‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏ô‡∏µ‡πâ</h3>
            </div>
            <div className="space-y-3">
              <div className="text-center p-3 bg-white/50 rounded-lg">
                <div className="text-lg font-bold text-purple-600">üß™ ‡∏ä‡∏µ‡∏ß‡∏†‡∏±‡∏ì‡∏ë‡πå</div>
                <div className="text-sm text-purple-800">‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏ó‡∏µ‡πà {currentBioWeek}</div>
                <div className="font-medium text-purple-900">
                  {bioProducts.find(p => p.week === currentBioWeek)?.name}
                </div>
              </div>
              <div className="text-center p-3 bg-white/50 rounded-lg">
                <div className="text-lg font-bold text-purple-600">üß¨ ‡∏ò‡∏≤‡∏ï‡∏∏‡∏≠‡∏≤‡∏´‡∏≤‡∏£</div>
                <div className="text-sm text-purple-800">‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏ó‡∏µ‡πà {currentNutrientWeek}</div>
                <div className="font-medium text-purple-900">
                  {nutrientSchedule.find(p => p.week === currentNutrientWeek)?.name}
                </div>
              </div>
            </div>
          </div>
        </div>

        {/* ‡πÅ‡∏ñ‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤ */}
        <div className="bg-gradient-to-br from-white to-gray-50 p-6 rounded-2xl shadow-lg border border-gray-200">
          <h3 className="text-xl font-bold text-gray-800 mb-6 flex items-center space-x-2">
            <Zap className="text-yellow-500" size={24} />
            <span>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏à‡∏£‡∏¥‡∏ç‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï</span>
          </h3>
          <div className="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4">
            {growthStages.map((stage, index) => (
              <div key={index} className={`text-center p-4 rounded-xl transition-all transform hover:scale-105 ${
                currentStage.daysFromPlanting >= stage.days 
                  ? `${stage.color} text-white shadow-lg` 
                  : 'bg-gray-200 text-gray-500'
              }`}>
                <div className="text-2xl mb-2">{stage.icon}</div>
                <div className="font-bold text-sm">{stage.stage}</div>
                <div className="text-xs mt-1">{stage.days} ‡∏ß‡∏±‡∏ô</div>
              </div>
            ))}
          </div>
        </div>

        {/* ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ */}
        <div className="bg-gradient-to-br from-white to-orange-50 rounded-2xl shadow-lg border border-orange-200 overflow-hidden">
          <div className="bg-gradient-to-r from-orange-500 to-red-500 p-6 text-white">
            <div className="flex items-center justify-between">
              <h3 className="text-xl font-bold flex items-center space-x-2">
                <Calendar size={24} />
                <span>üìã ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</span>
              </h3>
              <button
                onClick={() => setShowAddForm(true)}
                className="bg-white/20 text-white px-4 py-2 rounded-xl hover:bg-white/30 transition-all flex items-center space-x-2 font-semibold"
              >
                <Plus size={18} />
                <span>‡πÄ‡∏û‡∏¥‡πà‡∏°</span>
              </button>
            </div>
          </div>
          
          <div className="p-6">
            {todayActivities.length === 0 ? (
              <div className="text-center py-12 text-gray-500">
                <div className="text-6xl mb-4">üìÖ</div>
                <p className="text-lg font-medium">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</p>
                <p className="text-sm">‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏° "‡πÄ‡∏û‡∏¥‡πà‡∏°" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô</p>
              </div>
            ) : (
              <div className="space-y-4">
                {todayActivities.map(activity => (
                  <ActivityCard key={activity.id} activity={activity} />
                ))}
              </div>
            )}
          </div>
        </div>

        {/* ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏°‡∏≤‡∏ñ‡∏∂‡∏á */}
        <div className="bg-gradient-to-br from-white to-blue-50 rounded-2xl shadow-lg border border-blue-200 overflow-hidden">
          <div className="bg-gradient-to-r from-blue-500 to-teal-500 p-6 text-white">
            <h3 className="text-xl font-bold flex items-center space-x-2">
              <Clock size={24} />
              <span>‚è∞ ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏°‡∏≤‡∏ñ‡∏∂‡∏á</span>
            </h3>
          </div>
          
          <div className="p-6">
            {upcomingActivities.length === 0 ? (
              <div className="text-center py-12 text-gray-500">
                <div className="text-6xl mb-4">‚è∞</div>
                <p className="text-lg font-medium">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÑ‡∏ß‡πâ</p>
              </div>
            ) : (
              <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                {upcomingActivities.map(activity => {
                  const ActivityIcon = activityTypes[activity.type].icon;
                  return (
                    <div key={activity.id} className="flex items-center space-x-3 p-4 bg-gradient-to-r from-white to-gray-50 rounded-xl border border-gray-200 hover:shadow-lg transition-all transform hover:scale-105">
                      <div className={`p-3 rounded-full bg-gradient-to-r ${activityTypes[activity.type].gradient} text-white`}>
                        <ActivityIcon size={20} />
                      </div>
                      <div className="flex-1">
                        <h4 className="font-bold text-gray-800">{activity.title}</h4>
                        <p className="text-sm text-gray-600">{formatThaiDate(activity.date)}</p>
                      </div>
                    </div>
                  );
                })}
              </div>
            )}
          </div>
        </div>
      </div>
    );
  };

  const renderActivities = () => {
    const todayActivities = getActivitiesForDate(selectedDate);

    return (
      <div className="space-y-6">
        <div className="bg-gradient-to-br from-white to-green-50 rounded-2xl shadow-lg border border-green-200 overflow-hidden">
          <div className="bg-gradient-to-r from-green-500 to-teal-500 p-6 text-white">
            <div className="flex items-center justify-between">
              <h2 className="text-2xl font-bold flex items-center space-x-2">
                <Calendar size={28} />
                <span>üìù ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</span>
              </h2>
              <button
                onClick={() => setShowAddForm(true)}
                className="bg-white/20 text-white px-6 py-3 rounded-xl hover:bg-white/30 transition-all flex items-center space-x-2 font-bold shadow-lg transform hover:scale-105"
              >
                <Plus size={20} />
                <span>‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</span>
              </button>
            </div>
          </div>

          <div className="p-6 space-y-6">
            <div>
              <label className="block text-lg font-bold text-gray-700 mb-3">üìÖ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</label>
              <input
                type="date"
                value={selectedDate}
                onChange={(e) => setSelectedDate(e.target.value)}
                className="p-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all text-lg font-medium"
              />
            </div>

            <div className="bg-gradient-to-r from-green-100 to-teal-100 p-4 rounded-xl border border-green-200">
              <h3 className="text-xl font-bold text-gray-800 mb-2">
                üìä ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà {formatThaiDate(selectedDate)}
              </h3>
              <div className="grid grid-cols-2 md:grid-cols-4 gap-4 text-center">
                <div className="bg-white p-3 rounded-lg">
                  <div className="text-2xl font-bold text-blue-600">{todayActivities.length}</div>
                  <div className="text-sm text-blue-800">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
                </div>
                <div className="bg-white p-3 rounded-lg">
                  <div className="text-2xl font-bold text-green-600">{todayActivities.filter(a => a.completed).length}</div>
                  <div className="text-sm text-green-800">‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß</div>
                </div>
                <div className="bg-white p-3 rounded-lg">
                  <div className="text-2xl font-bold text-orange-600">{todayActivities.filter(a => !a.completed).length}</div>
                  <div className="text-sm text-orange-800">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏™‡∏£‡πá‡∏à</div>
                </div>
                <div className="bg-white p-3 rounded-lg">
                  <div className="text-2xl font-bold text-purple-600">{Math.round((todayActivities.filter(a => a.completed).length / Math.max(todayActivities.length, 1)) * 100)}%</div>
                  <div className="text-sm text-purple-800">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à</div>
                </div>
              </div>
            </div>

            {todayActivities.length === 0 ? (
              <div className="text-center py-16 text-gray-500 bg-gradient-to-br from-gray-50 to-white rounded-2xl border-2 border-dashed border-gray-300">
                <div className="text-8xl mb-6">üìã</div>
                <p className="text-2xl font-bold mb-2">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</p>
                <p className="text-lg">‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏° "‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô</p>
              </div>
            ) : (
              <div className="space-y-4">
                {todayActivities.map(activity => (
                  <ActivityCard key={activity.id} activity={activity} />
                ))}
              </div>
            )}
          </div>
        </div>
      </div>
    );
  };

  const renderBioSchedule = () => {
    const currentWeek = getCurrentBioWeek();

    return (
      <div className="space-y-6">
        <div className="bg-gradient-to-br from-white to-purple-50 rounded-2xl shadow-lg border border-purple-200 overflow-hidden">
          <div className="bg-gradient-to-r from-purple-500 to-indigo-500 p-6 text-white">
            <h2 className="text-2xl font-bold flex items-center space-x-2">
              <BarChart3 size={28} />
              <span>üß™ ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏â‡∏µ‡∏î‡∏ä‡∏µ‡∏ß‡∏†‡∏±‡∏ì‡∏ë‡πå</span>
            </h2>
            <p className="mt-2 text-purple-100">‡∏´‡∏°‡∏∏‡∏ô‡πÄ‡∏ß‡∏µ‡∏¢‡∏ô 4 ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÇ‡∏£‡∏Ñ‡πÅ‡∏•‡∏∞‡πÅ‡∏°‡∏•‡∏á‡∏®‡∏±‡∏ï‡∏£‡∏π‡∏û‡∏∑‡∏ä</p>
          </div>

          <div className="p-6 space-y-6">
            <div className="bg-gradient-to-r from-green-100 to-emerald-100 p-6 rounded-2xl border border-green-200">
              <h3 className="font-bold text-green-800 mb-4 text-xl flex items-center space-x-2">
                <Target size={24} />
                <span>üéØ ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏ô‡∏µ‡πâ</span>
              </h3>
              <div className="flex items-center justify-between">
                <div>
                  <span className="text-2xl font-bold text-green-700">
                    ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏ó‡∏µ‡πà {currentWeek}: {bioProducts.find(p => p.week === currentWeek)?.name}
                  </span>
                  <p className="text-green-600 mt-1">{bioProducts.find(p => p.week === currentWeek)?.description}</p>
                </div>
                <button
                  onClick={() => addBioActivity(bioProducts.find(p => p.week === currentWeek))}
                  className="bg-gradient-to-r from-green-500 to-emerald-500 text-white px-6 py-3 rounded-xl hover:from-green-600 hover:to-emerald-600 transition-all font-bold shadow-lg transform hover:scale-105"
                >
                  ‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°
                </button>
              </div>
            </div>

            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
              {bioProducts.map((product, index) => (
                <div key={index} className={`p-6 rounded-2xl border-l-4 ${product.color.replace('bg-', 'border-')} ${currentWeek === product.week ? 'bg-gradient-to-r from-yellow-50 to-orange-50 shadow-xl transform scale-105' : 'bg-white shadow-lg'} transition-all hover:shadow-xl`}>
                  <div className="flex items-center justify-between">
                    <div className="flex items-center space-x-4">
                      <div className={`p-4 rounded-full ${product.color} text-white shadow-lg`}>
                        <Target size={24} />
                      </div>
                      <div>
                        <h4 className="font-bold text-xl text-gray-800">‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏ó‡∏µ‡πà {product.week}</h4>
                        <p className="text-lg font-medium text-gray-700">{product.name}</p>
                        <p className="text-sm text-gray-600 mt-1">{product.description}</p>
                      </div>
                    </div>
                    <div className="flex flex-col items-center space-y-2">
                      {currentWeek === product.week && (
                        <span className="px-3 py-1 bg-gradient-to-r from-yellow-400 to-orange-400 text-white text-sm rounded-full font-bold shadow-md">
                          üî• ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏ô‡∏µ‡πâ
                        </span>
                      )}
                      <button
                        onClick={() => addBioActivity(product)}
                        className={`${product.color} text-white px-4 py-2 rounded-xl hover:opacity-80 transition-all font-medium shadow-md transform hover:scale-105`}
                      >
                        ‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°
                      </button>
                    </div>
                  </div>
                </div>
              ))}
            </div>

            <div className="bg-gradient-to-r from-gray-50 to-gray-100 p-6 rounded-2xl border border-gray-200">
              <h3 className="font-bold text-gray-800 mb-4 text-xl flex items-center space-x-2">
                <Clock size={24} />
                <span>üìú ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏â‡∏µ‡∏î‡∏ä‡∏µ‡∏ß‡∏†‡∏±‡∏ì‡∏ë‡πå</span>
              </h3>
              <div className="space-y-3">
                {activities
                  .filter(activity => activity.title.includes('‡∏â‡∏µ‡∏î‡∏ä‡∏µ‡∏ß‡∏†‡∏±‡∏ì‡∏ë‡πå'))
                  .sort((a, b) => new Date(b.date) - new Date(a.date))
                  .slice(0, 5)
                  .map(activity => (
                    <div key={activity.id} className="flex items-center justify-between p-4 bg-white rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all">
                      <div className="flex items-center space-x-3">
                        <CheckCircle 
                          size={20} 
                          className={activity.completed ? 'text-green-600' : 'text-gray-400'} 
                        />
                        <span className={`font-medium ${activity.completed ? 'text-gray-800' : 'text-gray-500'}`}>
                          {activity.title} - {formatThaiDate(activity.date)}
                        </span>
                      </div>
                      <span className={`px-3 py-1 rounded-full text-sm font-medium ${activity.completed ? 'bg-green-100 text-green-700' : 'bg-yellow-100 text-yellow-700'}`}>
                        {activity.completed ? '‚úÖ ‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß' : '‚è≥ ‡∏£‡∏≠‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£'}
                      </span>
                    </div>
                  ))}
                {activities.filter(activity => activity.title.includes('‡∏â‡∏µ‡∏î‡∏ä‡∏µ‡∏ß‡∏†‡∏±‡∏ì‡∏ë‡πå')).length === 0 && (
                  <div className="text-center py-8 text-gray-500">
                    <div className="text-4xl mb-2">üß™</div>
                    <p>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏â‡∏µ‡∏î‡∏ä‡∏µ‡∏ß‡∏†‡∏±‡∏ì‡∏ë‡πå</p>
                  </div>
                )}
              </div>
            </div>
          </div>
        </div>
      </div>
    );
  };

  const renderNutrientSchedule = () => {
    const currentWeek = getCurrentNutrientWeek();

    return (
      <div className="space-y-6">
        <div className="bg-gradient-to-br from-white to-teal-50 rounded-2xl shadow-lg border border-teal-200 overflow-hidden">
          <div className="bg-gradient-to-r from-teal-500 to-cyan-500 p-6 text-white">
            <h2 className="text-2xl font-bold flex items-center space-x-2">
              <Beaker size={28} />
              <span>üß¨ ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏â‡∏µ‡∏î‡∏û‡πà‡∏ô‡∏ò‡∏≤‡∏ï‡∏∏‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÄ‡∏™‡∏£‡∏¥‡∏°</span>
            </h2>
            <p className="mt-2 text-teal-100">‡∏´‡∏°‡∏∏‡∏ô‡πÄ‡∏ß‡∏µ‡∏¢‡∏ô 4 ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ò‡∏≤‡∏ï‡∏∏‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô</p>
          </div>

          <div className="p-6 space-y-6">
            <div className="bg-gradient-to-r from-teal-100 to-cyan-100 p-6 rounded-2xl border border-teal-200">
              <h3 className="font-bold text-teal-800 mb-4 text-xl flex items-center space-x-2">
                <Beaker size={24} />
                <span>üéØ ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏ô‡∏µ‡πâ</span>
              </h3>
              <div className="flex items-center justify-between">
                <div>
                  <span className="text-2xl font-bold text-teal-700">
                    ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏ó‡∏µ‡πà {currentWeek}: {nutrientSchedule.find(p => p.week === currentWeek)?.name}
                  </span>
                  <p className="text-teal-600 mt-1">
                    NPK: {nutrientSchedule.find(p => p.week === currentWeek)?.npk}
                  </p>
                  <p className="text-teal-600">
                    {nutrientSchedule.find(p => p.week === currentWeek)?.description}
                  </p>
                </div>
                <button
                  onClick={() => addNutrientActivity(nutrientSchedule.find(p => p.week === currentWeek))}
                  className="bg-gradient-to-r from-teal-500 to-cyan-500 text-white px-6 py-3 rounded-xl hover:from-teal-600 hover:to-cyan-600 transition-all font-bold shadow-lg transform hover:scale-105"
                >
                  ‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°
                </button>
              </div>
            </div>

            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
              {nutrientSchedule.map((nutrient, index) => (
                <div key={index} className={`p-6 rounded-2xl border-l-4 ${nutrient.color.replace('bg-', 'border-')} ${currentWeek === nutrient.week ? 'bg-gradient-to-r from-yellow-50 to-orange-50 shadow-xl transform scale-105' : 'bg-white shadow-lg'} transition-all hover:shadow-xl`}>
                  <div className="flex items-center justify-between">
                    <div className="flex items-center space-x-4">
                      <div className={`p-4 rounded-full ${nutrient.color} text-white shadow-lg`}>
                        <Beaker size={24} />
                      </div>
                      <div>
                        <h4 className="font-bold text-xl text-gray-800">‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏ó‡∏µ‡πà {nutrient.week}</h4>
                        <p className="text-lg font-medium text-gray-700">{nutrient.name}</p>
                        <p className="text-sm font-medium text-gray-600">NPK: {nutrient.npk}</p>
                        <p className="text-sm text-gray-600 mt-1">{nutrient.description}</p>
                      </div>
                    </div>
                    <div className="flex flex-col items-center space-y-2">
                      {currentWeek === nutrient.week && (
                        <span className="px-3 py-1 bg-gradient-to-r from-yellow-400 to-orange-400 text-white text-sm rounded-full font-bold shadow-md">
                          üî• ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏ô‡∏µ‡πâ
                        </span>
                      )}
                      <button
                        onClick={() => addNutrientActivity(nutrient)}
                        className={`${nutrient.color} text-white px-4 py-2 rounded-xl hover:opacity-80 transition-all font-medium shadow-md transform hover:scale-105`}
                      >
                        ‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°
                      </button>
                    </div>
                  </div>
                </div>
              ))}
            </div>

            <div className="bg-gradient-to-r from-gray-50 to-gray-100 p-6 rounded-2xl border border-gray-200">
              <h3 className="font-bold text-gray-800 mb-4 text-xl flex items-center space-x-2">
                <Clock size={24} />
                <span>üìú ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏â‡∏µ‡∏î‡∏ò‡∏≤‡∏ï‡∏∏‡∏≠‡∏≤‡∏´‡∏≤‡∏£</span>
              </h3>
              <div className="space-y-3">
                {activities
                  .filter(activity => activity.title.includes('‡∏â‡∏µ‡∏î‡∏ò‡∏≤‡∏ï‡∏∏‡∏≠‡∏≤‡∏´‡∏≤‡∏£'))
                  .sort((a, b) => new Date(b.date) - new Date(a.date))
                  .slice(0, 5)
                  .map(activity => (
                    <div key={activity.id} className="flex items-center justify-between p-4 bg-white rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all">
                      <div className="flex items-center space-x-3">
                        <CheckCircle 
                          size={20} 
                          className={activity.completed ? 'text-green-600' : 'text-gray-400'} 
                        />
                        <span className={`font-medium ${activity.completed ? 'text-gray-800' : 'text-gray-500'}`}>
                          {activity.title} - {formatThaiDate(activity.date)}
                        </span>
                      </div>
                      <span className={`px-3 py-1 rounded-full text-sm font-medium ${activity.completed ? 'bg-green-100 text-green-700' : 'bg-yellow-100 text-yellow-700'}`}>
                        {activity.completed ? '‚úÖ ‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß' : '‚è≥ ‡∏£‡∏≠‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£'}
                      </span>
                    </div>
                  ))}
                {activities.filter(activity => activity.title.includes('‡∏â‡∏µ‡∏î‡∏ò‡∏≤‡∏ï‡∏∏‡∏≠‡∏≤‡∏´‡∏≤‡∏£')).length === 0 && (
                  <div className="text-center py-8 text-gray-500">
                    <div className="text-4xl mb-2">üß¨</div>
                    <p>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏â‡∏µ‡∏î‡∏ò‡∏≤‡∏ï‡∏∏‡∏≠‡∏≤‡∏´‡∏≤‡∏£</p>
                  </div>
                )}
              </div>
            </div>
          </div>
        </div>
      </div>
    );
  };

  const renderSettings = () => {
    return (
      <div className="space-y-6">
        <div className="bg-gradient-to-br from-white to-indigo-50 rounded-2xl shadow-lg border border-indigo-200 overflow-hidden">
          <div className="bg-gradient-to-r from-indigo-500 to-purple-500 p-6 text-white">
            <h2 className="text-2xl font-bold flex items-center space-x-2">
              <Settings size={28} />
              <span>‚öôÔ∏è ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤</span>
            </h2>
            <p className="mt-2 text-indigo-100">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡∏Ç‡∏≠‡∏á‡πÅ‡∏≠‡∏õ</p>
          </div>
          
          <div className="p-6 space-y-8">
            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div className="space-y-6">
                <div>
                  <label className="block text-lg font-bold text-gray-700 mb-3">üìÖ ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏õ‡∏•‡∏π‡∏Å</label>
                  <input
                    type="date"
                    value={settings.plantingDate}
                    onChange={(e) => setSettings({...settings, plantingDate: e.target.value})}
                    className="w-full p-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all text-lg"
                  />
                </div>

                <div>
                  <label className="block text-lg font-bold text-gray-700 mb-3">üè† ‡∏Ç‡∏ô‡∏≤‡∏î‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏∑‡∏≠‡∏ô</label>
                  <select
                    value={settings.greenhouseSize}
                    onChange={(e) => setSettings({...settings, greenhouseSize: e.target.value})}
                    className="w-full p-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all text-lg"
                  >
                    <option value="6x8">6x8 ‡πÄ‡∏°‡∏ï‡∏£</option>
                    <option value="8x10">8x10 ‡πÄ‡∏°‡∏ï‡∏£</option>
                    <option value="10x12">10x12 ‡πÄ‡∏°‡∏ï‡∏£</option>
                    <option value="12x15">12x15 ‡πÄ‡∏°‡∏ï‡∏£</option>
                    <option value="‡∏≠‡∏∑‡πà‡∏ô‡πÜ">‡∏≠‡∏∑‡πà‡∏ô‡πÜ</option>
                  </select>
                </div>

                <div>
                  <label className="block text-lg font-bold text-gray-700 mb-3">üå± ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ï‡πâ‡∏ô‡πÄ‡∏°‡∏•‡πà‡∏≠‡∏ô</label>
                  <input
                    type="number"
                    value={settings.plantCount}
                    onChange={(e) => setSettings({...settings, plantCount: parseInt(e.target.value) || 0})}
                    className="w-full p-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all text-lg"
                    min="1"
                    max="1000"
                  />
                </div>
              </div>

              <div className="space-y-6">
                <div>
                  <label className="block text-lg font-bold text-gray-700 mb-3">üß™ ‡∏ß‡∏±‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ä‡∏µ‡∏ß‡∏†‡∏±‡∏ì‡∏ë‡πå</label>
                  <input
                    type="date"
                    value={settings.bioScheduleStart}
                    onChange={(e) => setSettings({...settings, bioScheduleStart: e.target.value})}
                    className="w-full p-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all text-lg"
                  />
                  <p className="text-sm text-gray-500 mt-2">
                    ‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏Ç‡∏≠‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏â‡∏µ‡∏î‡∏ä‡∏µ‡∏ß‡∏†‡∏±‡∏ì‡∏ë‡πå
                  </p>
                </div>

                <div>
                  <label className="block text-lg font-bold text-gray-700 mb-3">üß¨ ‡∏ß‡∏±‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ò‡∏≤‡∏ï‡∏∏‡∏≠‡∏≤‡∏´‡∏≤‡∏£</label>
                  <input
                    type="date"
                    value={settings.nutrientScheduleStart}
                    onChange={(e) => setSettings({...settings, nutrientScheduleStart: e.target.value})}
                    className="w-full p-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all text-lg"
                  />
                  <p className="text-sm text-gray-500 mt-2">
                    ‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏Ç‡∏≠‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏â‡∏µ‡∏î‡∏ò‡∏≤‡∏ï‡∏∏‡∏≠‡∏≤‡∏´‡∏≤‡∏£
                  </p>
                </div>

                <div>
                  <label className="block text-lg font-bold text-gray-700 mb-3">üîî ‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</label>
                  <div className="flex items-center space-x-3">
                    <input
                      type="checkbox"
                      id="notifications"
                      checked={settings.notifications}
                      onChange={(e) => setSettings({...settings, notifications: e.target.checked})}
                      className="w-6 h-6 text-indigo-600 border-2 border-gray-300 rounded focus:ring-indigo-500"
                    />
                    <label htmlFor="notifications" className="text-lg text-gray-700">
                      ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
                    </label>
                  </div>
                  <p className="text-sm text-gray-500 mt-2">
                    ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏Ñ‡πâ‡∏≤‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡∏∞‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏°‡∏≤‡∏ñ‡∏∂‡∏á
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div className="bg-gradient-to-br from-white to-blue-50 rounded-2xl shadow-lg border border-blue-200 overflow-hidden">
          <div className="bg-gradient-to-r from-blue-500 to-cyan-500 p-6 text-white">
            <h3 className="text-xl font-bold flex items-center space-x-2">
              <Download size={24} />
              <span>üíæ ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</span>
            </h3>
          </div>
          
          <div className="p-6 space-y-6">
            <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
              <div className="bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-2xl border border-blue-200 text-center">
                <div className="text-4xl mb-3">üì§</div>
                <h4 className="font-bold text-blue-800 mb-2">‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</h4>
                <p className="text-sm text-blue-600 mb-4">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏ü‡∏•‡πå JSON</p>
                <button
                  onClick={exportData}
                  className="w-full bg-gradient-to-r from-blue-500 to-cyan-500 text-white py-3 px-4 rounded-xl hover:from-blue-600 hover:to-cyan-600 transition-all flex items-center justify-center space-x-2 font-bold shadow-lg transform hover:scale-105"
                >
                  <Download size={18} />
                  <span>‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å</span>
                </button>
              </div>

              <div className="bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-2xl border border-green-200 text-center">
                <div className="text-4xl mb-3">üì•</div>
                <h4 className="font-bold text-green-800 mb-2">‡∏ô‡∏≥‡πÄ‡∏Ç‡πâ‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</h4>
                <p className="text-sm text-green-600 mb-4">‡∏ô‡∏≥‡πÄ‡∏Ç‡πâ‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå JSON</p>
                <label className="w-full bg-gradient-to-r from-green-500 to-emerald-500 text-white py-3 px-4 rounded-xl hover:from-green-600 hover:to-emerald-600 transition-all flex items-center justify-center space-x-2 font-bold shadow-lg transform hover:scale-105 cursor-pointer">
                  <Upload size={18} />
                  <span>‡∏ô‡∏≥‡πÄ‡∏Ç‡πâ‡∏≤</span>
                  <input
                    type="file"
                    accept=".json"
                    onChange={importData}
                    className="hidden"
                  />
                </label>
              </div>

              <div className="bg-gradient-to-br from-red-50 to-red-100 p-6 rounded-2xl border border-red-200 text-center">
                <div className="text-4xl mb-3">üóëÔ∏è</div>
                <h4 className="font-bold text-red-800 mb-2">‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h4>
                <p className="text-sm text-red-600 mb-4">‡∏•‡∏ö‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</p>
                <button
                  onClick={clearAllData}
                  className="w-full bg-gradient-to-r from-red-500 to-pink-500 text-white py-3 px-4 rounded-xl hover:from-red-600 hover:to-pink-600 transition-all flex items-center justify-center space-x-2 font-bold shadow-lg transform hover:scale-105"
                >
                  <Trash2 size={18} />
                  <span>‡∏•‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</span>
                </button>
              </div>
            </div>
          </div>
        </div>

        <div className="bg-gradient-to-br from-white to-purple-50 rounded-2xl shadow-lg border border-purple-200 overflow-hidden">
          <div className="bg-gradient-to-r from-purple-500 to-indigo-500 p-6 text-white">
            <h3 className="text-xl font-bold flex items-center space-x-2">
              <BarChart3 size={24} />
              <span>üìä ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</span>
            </h3>
          </div>
          
          <div className="p-6">
            <div className="grid grid-cols-2 md:grid-cols-4 gap-6">
              <div className="text-center p-6 bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl border border-blue-200">
                <div className="text-4xl font-bold text-blue-600 mb-2">{activities.length}</div>
                <div className="text-sm font-medium text-blue-800">üìã ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
              </div>
              <div className="text-center p-6 bg-gradient-to-br from-green-50 to-green-100 rounded-2xl border border-green-200">
                <div className="text-4xl font-bold text-green-600 mb-2">{activities.filter(a => a.completed).length}</div>
                <div className="text-sm font-medium text-green-800">‚úÖ ‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß</div>
              </div>
              <div className="text-center p-6 bg-gradient-to-br from-orange-50 to-orange-100 rounded-2xl border border-orange-200">
                <div className="text-4xl font-bold text-orange-600 mb-2">{activities.filter(a => !a.completed && new Date(a.date) < new Date()).length}</div>
                <div className="text-sm font-medium text-orange-800">‚è≥ ‡∏Ñ‡πâ‡∏≤‡∏á‡∏≠‡∏¢‡∏π‡πà</div>
              </div>
              <div className="text-center p-6 bg-gradient-to-br from-purple-50 to-purple-100 rounded-2xl border border-purple-200">
                <div className="text-4xl font-bold text-purple-600 mb-2">{Math.round((activities.filter(a => a.completed).length / Math.max(activities.length, 1)) * 100)}%</div>
                <div className="text-sm font-medium text-purple-800">üéØ ‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    );
  };

  const tabs = [
    { id: 'dashboard', label: '‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å', icon: Home },
    { id: 'activities', label: '‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°', icon: Calendar },
    { id: 'bio-schedule', label: '‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ä‡∏µ‡∏ß‡∏†‡∏±‡∏ì‡∏ë‡πå', icon: BarChart3 },
                { id: 'nutrient-schedule', label: '‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ò‡∏≤‡∏ï‡∏∏‡∏≠‡∏≤‡∏´‡∏≤‡∏£', icon: Beaker },
    { id: 'settings', label: '‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤', icon: Settings }
  ];

  const notifications = getNotifications();

  return (
    <div className="min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-purple-50">
      {/* Header */}
      <div className="sticky top-0 z-30 bg-white/90 backdrop-blur-lg shadow-lg border-b border-gray-200">
        <div className="max-w-7xl mx-auto px-4 py-4">
          <div className="flex items-center justify-between">
            {/* Logo ‡πÅ‡∏•‡∏∞‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏≠‡∏õ */}
            <div className="flex items-center space-x-3">
              <button
                onClick={() => setMobileMenuOpen(true)}
                className="lg:hidden p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-xl transition-all"
              >
                <Menu size={24} />
              </button>
              <div className="flex items-center space-x-3">
                <div className="p-3 bg-gradient-to-r from-green-500 to-teal-500 rounded-2xl text-white shadow-lg">
                  <Sprout size={28} />
                </div>
                <div>
                  <h1 className="text-2xl font-bold bg-gradient-to-r from-green-600 to-teal-600 bg-clip-text text-transparent">
                    üçà ‡πÅ‡∏≠‡∏õ‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏•‡∏π‡∏Å‡πÄ‡∏°‡∏•‡πà‡∏≠‡∏ô
                  </h1>
                  <p className="text-sm text-gray-600 font-medium">Smart Melon Farming Assistant</p>
                </div>
              </div>
            </div>

            {/* ‡∏õ‡∏∏‡πà‡∏°‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô */}
            <div className="flex items-center space-x-4">
              <div className="hidden md:flex items-center space-x-2 text-sm text-gray-600 bg-green-50 px-3 py-2 rounded-xl border border-green-200">
                <div className="w-2 h-2 bg-green-500 rounded-full animate-pulse"></div>
                <span className="font-medium">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</span>
              </div>
              <button
                onClick={() => setShowNotifications(true)}
                className="relative p-3 text-gray-600 hover:text-orange-600 hover:bg-orange-50 rounded-xl transition-all transform hover:scale-110"
              >
                {notifications.length > 0 ? <BellRing size={24} /> : <Bell size={24} />}
                {notifications.length > 0 && (
                  <span className="absolute -top-1 -right-1 bg-gradient-to-r from-red-500 to-pink-500 text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center shadow-lg animate-bounce">
                    {notifications.length}
                  </span>
                )}
              </button>
            </div>
          </div>
        </div>
      </div>

      {/* Navigation Tabs - Desktop */}
      <div className="sticky top-20 z-20 bg-white/90 backdrop-blur-lg shadow-sm border-b border-gray-200 hidden lg:block">
        <div className="max-w-7xl mx-auto px-4">
          <div className="flex overflow-x-auto">
            {tabs.map(tab => (
              <button
                key={tab.id}
                onClick={() => setActiveTab(tab.id)}
                className={`flex items-center space-x-3 px-6 py-4 font-bold transition-all transform hover:scale-105 ${
                  activeTab === tab.id
                    ? 'text-green-600 border-b-4 border-green-600 bg-gradient-to-t from-green-50 to-transparent'
                    : 'text-gray-600 hover:text-green-600 hover:bg-green-50'
                }`}
              >
                <tab.icon size={22} />
                <span>{tab.label}</span>
              </button>
            ))}
          </div>
        </div>
      </div>

      {/* Main Content */}
      <div className="max-w-7xl mx-auto px-4 py-6">
        {activeTab === 'dashboard' && renderDashboard()}
        {activeTab === 'activities' && renderActivities()}
        {activeTab === 'bio-schedule' && renderBioSchedule()}
        {activeTab === 'nutrient-schedule' && renderNutrientSchedule()}
        {activeTab === 'settings' && renderSettings()}
      </div>

      {/* Mobile Menu */}
      <MobileMenu />

      {/* Notification Panel */}
      <NotificationPanel />

      {/* Mobile Bottom Navigation */}
      <div className="fixed bottom-0 left-0 right-0 bg-white/90 backdrop-blur-lg shadow-2xl border-t border-gray-200 lg:hidden z-30">
        <div className="grid grid-cols-5 gap-1 p-2">
          {tabs.map(tab => (
            <button
              key={tab.id}
              onClick={() => setActiveTab(tab.id)}
              className={`flex flex-col items-center justify-center p-3 rounded-xl transition-all transform hover:scale-105 ${
                activeTab === tab.id
                  ? 'text-green-600 bg-green-50 shadow-lg'
                  : 'text-gray-600 hover:text-green-600 hover:bg-green-50'
              }`}
            >
              <tab.icon size={20} />
              <span className="text-xs font-medium mt-1">{tab.label.split(' ')[0]}</span>
            </button>
          ))}
        </div>
      </div>

      {/* Modals */}
      {showAddForm && (
        <div className="fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50">
          <div className="max-w-md w-full max-h-screen overflow-y-auto">
            <ActivityForm
              activity={newActivity}
              onSave={addActivity}
              onCancel={() => setShowAddForm(false)}
            />
          </div>
        </div>
      )}

      {editingActivity && (
        <div className="fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50">
          <div className="max-w-md w-full max-h-screen overflow-y-auto">
            <ActivityForm
              activity={editingActivity}
              onSave={updateActivity}
              onCancel={() => setEditingActivity(null)}
              isEditing={true}
            />
          </div>
        </div>
      )}

      {/* Notification overlay */}
      {showNotifications && (
        <div 
          className="fixed inset-0 bg-black/25 backdrop-blur-sm z-40"
          onClick={() => setShowNotifications(false)}
        />
      )}

      {/* Mobile menu overlay */}
      {mobileMenuOpen && (
        <div 
          className="fixed inset-0 bg-black/25 backdrop-blur-sm z-30 lg:hidden"
          onClick={() => setMobileMenuOpen(false)}
        />
      )}

      {/* Bottom padding for mobile */}
      <div className="h-20 lg:hidden"></div>
    </div>
  );
};


        // ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÇ‡∏Ñ‡πâ‡∏î‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏à‡∏≤‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡∏û‡∏£‡∏µ‡∏ß‡∏¥‡∏ß‡∏°‡∏≤‡∏ß‡∏≤‡∏á‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ
        // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å: import React, { useState, useEffect } from 'react';
        // ‡∏à‡∏ô‡∏ñ‡∏∂‡∏á: export default MelonPlannerApp;
        // **************************************************************
        
        // üëá ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏ô‡∏µ‡πâ‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡∏™‡∏∏‡∏î‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ß‡∏≤‡∏á‡πÇ‡∏Ñ‡πâ‡∏î‡πÅ‡∏•‡πâ‡∏ß
        setTimeout(() => {
            document.getElementById('loading').style.display = 'none';
            ReactDOM.render(React.createElement(MelonPlannerApp), document.getElementById('root'));
        }, 2000);
    </script>
</body>
</html>
